function [s1_TI_TE_xy,s2_TI_TE_xy] = IR_gen_v2(M0,T1,T2,TR,TI,TE,flip_ex,flip_ref,kap,dw)
%IR_GEN_V2
%    [S1_TI_TE_XY,S2_TI_TE_XY] = IR_GEN_V2(M0,T1,T2,TR,TI,TE,FLIP_EX,FLIP_REF,KAP,DW)

%    This function was generated by the Symbolic Math Toolbox version 5.10.
%    22-Jun-2016 13:57:54

t2 = 1.0./T2;
t3 = 1.0./T1;
t4 = TE.*t2;
t5 = exp(t4);
t12 = flip_ex.*kap;
t6 = cos(t12);
t14 = flip_ref.*kap;
t7 = cos(t14);
t8 = TE+TI-TR;
t9 = t3.*t8.*2.0;
t10 = exp(t9);
t20 = TE.*dw.*(1.0./2.0);
t11 = sin(t20);
t13 = sin(t12);
t15 = sin(t14);
t16 = TE.*t3.*2.0;
t17 = exp(t16);
t18 = TI.*t3.*2.0;
t19 = exp(t18);
t21 = cos(t20);
t22 = TE.*t2.*(1.0./2.0);
t23 = exp(t22);
t24 = t21.^2;
t25 = TE.*t3;
t26 = exp(t25);
t27 = t11.^2;
t28 = t13.^2;
t29 = t15.^2;
t30 = t7.^2;
t31 = TE.*t3.*(1.0./2.0);
t32 = exp(t31);
t33 = TI.*t3;
t34 = exp(t33);
t35 = t6.^2;
t36 = TE.*t3.*(3.0./2.0);
t37 = exp(t36);
t38 = t3.*t8;
t39 = exp(t38);
t40 = t5.*t17.*t19;
t41 = t10.*t26.*t27.*t28.*t29;
t42 = t40+t41-t5.*t10.*t30.*t35;
t43 = 1.0./t42;
t44 = TE.*t2.*(3.0./2.0);
t45 = exp(t44);
t46 = TE.*2.0;
t47 = TI.*2.0;
t51 = TR.*2.0;
t48 = t46+t47-t51;
t49 = t3.*t48;
t50 = exp(t49);
t52 = t17.*t19.*t45;
t53 = M0.*t5.*t11.*t15.*t19.*t37;
t54 = M0.*t13.*t17.*t19.*t23.*t24;
t55 = M0.*t7.*t13.*t17.*t23.*t27.*t34.*2.0;
t56 = M0.*t11.*t15.*t24.*t28.*t37.*t39.*2.0;
t57 = M0.*t13.*t23.*t24.*t34.*t37.*t39;
t58 = M0.*t5.*t6.*t11.*t15.*t34.*t37.*2.0;
t59 = M0.*t6.*t7.*t13.*t23.*t24.*t26.*t39.*2.0;
t60 = M0.*t7.*t13.*t23.*t24.*t26.*t34.*t39;
t61 = M0.*t7.*t11.*t15.*t27.*t28.*t34.*t37.*t39;
t62 = M0.*t13.*t23.*t27.*t30.*t34.*t37.*t39;
t63 = M0.*t6.*t13.*t23.*t26.*t27.*t30.*t34.*t39;
t64 = M0.*t6.*t13.*t23.*t26.*t27.*t29.*t34.*t39;
t65 = M0.*t5.*t6.*t7.*t11.*t15.*t26.*t34.*t39;
t66 = M0.*t5.*t7.*t11.*t15.*t32.*t34.*t35.*t39;
s1_TI_TE_xy = t43.*exp(TE.*t2.*(-1.0./2.0)).*(t53+t54+t55+t56+t57+t58+t59+t60+t61+t62+t63+t64+t65+t66-M0.*t5.*t11.*t15.*t17.*t19-M0.*t13.*t17.*t23.*t24.*t34.*2.0+M0.*t5.*t7.*t10.*t11.*t15.*t35-M0.*t5.*t6.*t11.*t15.*t19.*t37-M0.*t6.*t10.*t13.*t23.*t24.*t30-M0.*t7.*t13.*t17.*t19.*t23.*t27-M0.*t10.*t11.*t15.*t24.*t26.*t28-M0.*t6.*t7.*t10.*t13.*t23.*t24.*t32+M0.*t6.*t7.*t10.*t13.*t23.*t27.*t29+M0.*t6.*t7.*t10.*t13.*t23.*t27.*t30+M0.*t7.*t10.*t11.*t15.*t24.*t26.*t28+M0.*t7.*t10.*t11.*t15.*t26.*t27.*t28-M0.*t7.*t10.*t11.*t15.*t24.*t28.*t32-M0.*t5.*t6.*t11.*t15.*t26.*t34.*t39+M0.*t6.*t10.*t13.*t23.*t24.*t30.*t32+M0.*t6.*t10.*t13.*t23.*t27.*t29.*t32+M0.*t6.*t10.*t13.*t23.*t27.*t30.*t32-M0.*t5.*t7.*t11.*t15.*t32.*t35.*t39.*2.0-M0.*t10.*t11.*t15.*t26.*t27.*t28.*t29-M0.*t10.*t11.*t15.*t26.*t27.*t28.*t30+M0.*t10.*t11.*t15.*t27.*t28.*t29.*t32+M0.*t10.*t11.*t15.*t27.*t28.*t30.*t32-M0.*t6.*t13.*t23.*t26.*t27.*t29.*t39.*2.0-M0.*t6.*t13.*t23.*t26.*t27.*t30.*t39.*2.0-M0.*t7.*t11.*t15.*t27.*t28.*t37.*t39.*2.0-M0.*t7.*t13.*t23.*t24.*t34.*t37.*t39-M0.*t7.*t13.*t23.*t27.*t34.*t37.*t39-M0.*t11.*t15.*t24.*t28.*t34.*t37.*t39-M0.*t13.*t23.*t26.*t27.*t30.*t34.*t39-M0.*t6.*t7.*t10.*t13.*t23.*t27.*t29.*t32-M0.*t6.*t7.*t10.*t13.*t23.*t27.*t30.*t32-M0.*t5.*t6.*t7.*t11.*t15.*t32.*t34.*t39-M0.*t6.*t7.*t13.*t23.*t24.*t26.*t34.*t39).*1i-t21.*t43.*exp(-t22).*(-M0.*t5.*t15.*t17.*t19+M0.*t5.*t15.*t19.*t37+M0.*t5.*t7.*t10.*t15.*t35-M0.*t5.*t6.*t15.*t19.*t37-M0.*t11.*t13.*t17.*t19.*t23+M0.*t5.*t6.*t15.*t34.*t37.*2.0+M0.*t11.*t13.*t17.*t23.*t34.*2.0+M0.*t10.*t15.*t26.*t27.*t28-M0.*t15.*t27.*t28.*t37.*t39.*2.0-M0.*t7.*t11.*t13.*t17.*t19.*t23+M0.*t6.*t10.*t11.*t13.*t23.*t30+M0.*t7.*t11.*t13.*t17.*t23.*t34.*2.0+M0.*t7.*t10.*t15.*t27.*t28.*t32-M0.*t5.*t6.*t15.*t26.*t34.*t39-M0.*t5.*t7.*t15.*t32.*t35.*t39.*2.0-M0.*t10.*t15.*t26.*t27.*t28.*t29-M0.*t10.*t15.*t26.*t27.*t28.*t30+M0.*t10.*t15.*t27.*t28.*t29.*t32+M0.*t10.*t15.*t27.*t28.*t30.*t32-M0.*t7.*t15.*t27.*t28.*t37.*t39.*2.0-M0.*t11.*t13.*t23.*t34.*t37.*t39+M0.*t15.*t27.*t28.*t34.*t37.*t39+M0.*t6.*t7.*t10.*t11.*t13.*t23.*t29+M0.*t6.*t7.*t10.*t11.*t13.*t23.*t30+M0.*t6.*t7.*t10.*t11.*t13.*t23.*t32+M0.*t6.*t10.*t11.*t13.*t23.*t29.*t32-M0.*t6.*t7.*t11.*t13.*t23.*t26.*t39.*2.0+M0.*t5.*t6.*t7.*t15.*t26.*t34.*t39-M0.*t5.*t6.*t7.*t15.*t32.*t34.*t39-M0.*t6.*t11.*t13.*t23.*t26.*t29.*t39.*2.0-M0.*t6.*t11.*t13.*t23.*t26.*t30.*t39.*2.0-M0.*t7.*t11.*t13.*t23.*t26.*t34.*t39+M0.*t5.*t7.*t15.*t32.*t34.*t35.*t39-M0.*t11.*t13.*t23.*t26.*t30.*t34.*t39+M0.*t7.*t15.*t27.*t28.*t34.*t37.*t39+M0.*t11.*t13.*t23.*t30.*t34.*t37.*t39-M0.*t6.*t7.*t10.*t11.*t13.*t23.*t29.*t32-M0.*t6.*t7.*t10.*t11.*t13.*t23.*t30.*t32+M0.*t6.*t7.*t11.*t13.*t23.*t26.*t34.*t39+M0.*t6.*t11.*t13.*t23.*t26.*t29.*t34.*t39+M0.*t6.*t11.*t13.*t23.*t26.*t30.*t34.*t39);
if nargout > 1
    s2_TI_TE_xy = (t53.*1i-t54.*1i-t55.*1i+t56.*1i-t57.*1i+t58.*1i-t59.*1i-t60.*1i+t61.*1i-t62.*1i-t63.*1i-t64.*1i+t65.*1i+t66.*1i-M0.*t5.*t11.*t15.*t17.*t19.*1i+M0.*t13.*t17.*t23.*t24.*t34.*2.0i-M0.*t5.*t6.*t11.*t15.*t19.*t37.*1i+M0.*t7.*t13.*t17.*t19.*t23.*t27.*1i+M0.*t5.*t7.*t11.*t15.*t35.*t50.*1i+M0.*t6.*t13.*t23.*t24.*t30.*t50.*1i-M0.*t11.*t15.*t24.*t26.*t28.*t50.*1i-M0.*t5.*t6.*t11.*t15.*t26.*t34.*t39.*1i-M0.*t5.*t7.*t11.*t15.*t32.*t35.*t39.*2.0i+M0.*t6.*t7.*t13.*t23.*t24.*t32.*t50.*1i-M0.*t6.*t7.*t13.*t23.*t27.*t29.*t50.*1i-M0.*t6.*t7.*t13.*t23.*t27.*t30.*t50.*1i+M0.*t7.*t11.*t15.*t24.*t26.*t28.*t50.*1i+M0.*t6.*t13.*t23.*t26.*t27.*t29.*t39.*2.0i+M0.*t6.*t13.*t23.*t26.*t27.*t30.*t39.*2.0i+M0.*t7.*t11.*t15.*t26.*t27.*t28.*t50.*1i-M0.*t7.*t11.*t15.*t27.*t28.*t37.*t39.*2.0i-M0.*t7.*t11.*t15.*t24.*t28.*t32.*t50.*1i+M0.*t7.*t13.*t23.*t24.*t34.*t37.*t39.*1i-M0.*t6.*t13.*t23.*t24.*t30.*t32.*t50.*1i-M0.*t6.*t13.*t23.*t27.*t29.*t32.*t50.*1i+M0.*t7.*t13.*t23.*t27.*t34.*t37.*t39.*1i-M0.*t6.*t13.*t23.*t27.*t30.*t32.*t50.*1i-M0.*t11.*t15.*t26.*t27.*t28.*t29.*t50.*1i-M0.*t11.*t15.*t26.*t27.*t28.*t30.*t50.*1i-M0.*t11.*t15.*t24.*t28.*t34.*t37.*t39.*1i+M0.*t11.*t15.*t27.*t28.*t29.*t32.*t50.*1i+M0.*t13.*t23.*t26.*t27.*t30.*t34.*t39.*1i+M0.*t11.*t15.*t27.*t28.*t30.*t32.*t50.*1i-M0.*t5.*t6.*t7.*t11.*t15.*t32.*t34.*t39.*1i+M0.*t6.*t7.*t13.*t23.*t24.*t26.*t34.*t39.*1i+M0.*t6.*t7.*t13.*t23.*t27.*t29.*t32.*t50.*1i+M0.*t6.*t7.*t13.*t23.*t27.*t30.*t32.*t50.*1i)./(t52-t30.*t35.*t45.*t50+t23.*t26.*t27.*t28.*t29.*t50)+(M0.*t15.*t21.*t37.*t39.*2.0-M0.*t15.*t21.*t32.*t50+M0.*t5.*t15.*t17.*t19.*t21-M0.*t5.*t15.*t19.*t21.*t37+M0.*t7.*t15.*t21.*t37.*t39.*2.0-M0.*t7.*t15.*t21.*t32.*t50-M0.*t15.*t21.*t24.*t37.*t39.*2.0+M0.*t15.*t21.*t24.*t32.*t50-M0.*t15.*t21.*t34.*t37.*t39-M0.*t15.*t21.*t35.*t37.*t39.*2.0+M0.*t15.*t21.*t32.*t35.*t50+M0.*t5.*t6.*t15.*t19.*t21.*t37-M0.*t11.*t13.*t17.*t19.*t21.*t23-M0.*t5.*t6.*t15.*t21.*t34.*t37.*2.0+M0.*t11.*t13.*t17.*t21.*t23.*t34.*2.0-M0.*t5.*t7.*t15.*t21.*t35.*t50-M0.*t7.*t15.*t21.*t24.*t37.*t39.*2.0+M0.*t7.*t15.*t21.*t24.*t32.*t50-M0.*t7.*t15.*t21.*t34.*t37.*t39-M0.*t7.*t15.*t21.*t35.*t37.*t39.*2.0+M0.*t7.*t15.*t21.*t32.*t35.*t50+M0.*t15.*t21.*t24.*t34.*t37.*t39+M0.*t15.*t21.*t24.*t35.*t37.*t39.*2.0-M0.*t15.*t21.*t24.*t32.*t35.*t50+M0.*t15.*t21.*t34.*t35.*t37.*t39-M0.*t7.*t11.*t13.*t17.*t19.*t21.*t23+M0.*t7.*t11.*t13.*t17.*t21.*t23.*t34.*2.0+M0.*t6.*t7.*t11.*t13.*t21.*t23.*t50-M0.*t6.*t11.*t13.*t21.*t23.*t26.*t39.*2.0+M0.*t5.*t6.*t15.*t21.*t26.*t34.*t39+M0.*t5.*t7.*t15.*t21.*t32.*t35.*t39.*2.0+M0.*t6.*t11.*t13.*t21.*t23.*t30.*t50+M0.*t6.*t11.*t13.*t21.*t23.*t32.*t50+M0.*t7.*t15.*t21.*t24.*t34.*t37.*t39+M0.*t7.*t15.*t21.*t24.*t35.*t37.*t39.*2.0-M0.*t11.*t13.*t21.*t23.*t34.*t37.*t39-M0.*t7.*t15.*t21.*t24.*t32.*t35.*t50+M0.*t7.*t15.*t21.*t34.*t35.*t37.*t39-M0.*t15.*t21.*t24.*t34.*t35.*t37.*t39-M0.*t6.*t7.*t11.*t13.*t21.*t23.*t26.*t39.*2.0-M0.*t5.*t6.*t7.*t15.*t21.*t26.*t34.*t39+M0.*t5.*t6.*t7.*t15.*t21.*t32.*t34.*t39+M0.*t6.*t11.*t13.*t21.*t23.*t26.*t34.*t39-M0.*t7.*t11.*t13.*t21.*t23.*t26.*t34.*t39-M0.*t6.*t11.*t13.*t21.*t23.*t30.*t32.*t50-M0.*t5.*t7.*t15.*t21.*t32.*t34.*t35.*t39-M0.*t11.*t13.*t21.*t23.*t26.*t30.*t34.*t39+M0.*t11.*t13.*t21.*t23.*t30.*t34.*t37.*t39-M0.*t7.*t15.*t21.*t24.*t34.*t35.*t37.*t39+M0.*t6.*t7.*t11.*t13.*t21.*t23.*t26.*t34.*t39)./(t52+t23.*t26.*t50-t23.*t24.*t26.*t50-t23.*t26.*t30.*t50-t23.*t26.*t35.*t50-t30.*t35.*t45.*t50+t23.*t24.*t26.*t30.*t50+t23.*t24.*t26.*t35.*t50+t23.*t26.*t30.*t35.*t50-t23.*t24.*t26.*t30.*t35.*t50);
end
